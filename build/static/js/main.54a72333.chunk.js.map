{"version":3,"sources":["components/Filter.js","components/SubmitNumber.js","components/Person.js","components/Directory.js","components/Notification.js","components/Error.js","services/numbers.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","SubmitNumber","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","removePerson","name","number","onClick","Directory","personsToShow","map","id","Notification","message","className","Error","baseUrl","exp","getAll","axios","get","then","response","data","create","newObject","post","update","put","remove","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","showAll","SetShowAll","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","numberService","initialNumbers","filter","toLowerCase","indexOf","event","console","log","target","preventDefault","find","window","confirm","p","changedPerson","returnedPerson","entry","setTimeout","catch","error","personObject","concat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.54a72333.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) =>{\r\n\treturn (\r\n\t\t<div>filter shown with <input \r\n\t\t\t\tvalue={newFilter}\r\n\t\t\t\tonChange={handleFilterChange}/></div>\r\n\t) }\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst SubmitNumber = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) =>{\r\n\treturn (\r\n\t\t<><form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input \r\n\t\t\t\tvalue={newName}\r\n\t\t\t\tonChange={handleNameChange}/>\r\n        </div>\r\n\t\t<div>number: <input value={newNumber}\r\n\t\t\t\tonChange={handleNumberChange}/></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n\t\t\r\n      </form></>\r\n\t) }\r\n\r\nexport default SubmitNumber","import React from 'react'\r\n\r\n/*const removeNumber = (id) => {\r\n\tconsole.log('Delete button clicked.')\r\n\tnumberService\r\n\r\n}*/\r\n\r\nconst Person = ({ person, removePerson }) =>{\r\n\treturn (\r\n\t\t<><li>\r\n\t\t\t{person.name} {person.number} <button onClick={() => removePerson(person)}>delete</button>\r\n\t\t</li>\r\n\t\t</>\r\n\t) }\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Directory = ({ personsToShow, removePerson }) =>{\r\n\treturn (\r\n\t\t<><h2>Numbers</h2>\r\n\t\t<ul>\r\n\t\t\t{personsToShow.map(person => \r\n\t\t\t\t<Person key={person.id}\r\n\t\t\t\tperson={person}\r\n\t\t\t\tremovePerson={removePerson}/>\r\n\t\t\t)}\r\n\t\t  </ul></>\r\n\t) }\r\n\r\nexport default Directory\r\n\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n\tif (message === null) {\r\n\t  return null\r\n\t}\r\n  \r\n\treturn (\r\n\t  <div className=\"notification\">\r\n\t\t{message}\r\n\t  </div>\r\n\t)\r\n  }\r\n\r\n  export default Notification","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n\tif (message === null) {\r\n\t  return null\r\n\t}\r\n  \r\n\treturn (\r\n\t  <div className=\"error\">\r\n\t\t{message}\r\n\t  </div>\r\n\t)\r\n  }\r\n\r\n  export default Error","import axios from 'axios'\r\n// Old version.\r\n// const baseUrl = 'http://localhost:3001/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\n// get all\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl)\r\n\treturn request.then(response => response.data)\r\n}\r\n// create\r\nconst create = newObject => {\r\n\tconst request = axios.post(baseUrl, newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n// update\r\nconst update = (newObject) => {\r\n\t// Return whole response:\r\n\t// return axios.put(`${baseUrl}/${id}`, newObject)\r\n\t// Return only data:\r\n\tconst request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n// delete\r\nconst remove = id => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst exp = { getAll, create, update, remove }\r\nexport default exp","import React, { useState, useEffect } from 'react'\n//import axios from 'axios'\nimport Filter from './components/Filter'\nimport SubmitNumber from './components/SubmitNumber'\nimport Directory from './components/Directory'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport numberService from './services/numbers'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [showAll, SetShowAll] = useState(true)\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  /*useEffect(() => {\n\taxios\n\t\t.get('http://localhost:3001/persons')\n\t\t.then(response => {\n\t\t\tconsole.log('Promise fulfilled')\n\t\t\tsetPersons(response.data)\n\t\t})\n}, [])*/\n\tuseEffect(() => {\n\t\tnumberService\n\t\t.getAll()\n\t\t.then(initialNumbers => {setPersons(initialNumbers)})\n\t}, [])\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tconsole.log(newName.toLowerCase())\n\t\tif (persons.find( ({ name }) => name === newName )){\n\t\t\t/*alert(`${newName} is already added to phonebook`)\n\t\t\tsetNewName('')*/\n\t\t\tlet r= window.confirm(`${newName} is already in the phonebook. Would you like to update the number for ${newName}?`);\n\t\t\tif (r === true) {\n\t\t\t\tconsole.log(\"User pressed OK.\");\n\t\t\t\tconst person = persons.find(p => p.name === newName)\n\t\t\t\tconst changedPerson = { ...person, number: newNumber }\n\t\t\t\tnumberService\n\t\t\t\t.update(changedPerson)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tsetPersons(persons.map(entry => entry.name !== newName ? entry :  returnedPerson))\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`Updated ${returnedPerson.name}.`\n\t\t\t\t\t  )\n\t\t\t\t\t  setTimeout(() => {\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t  }, 5000)\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetErrorMessage(\n\t\t\t\t\t\t`'${person.name}' has already been removed from server`\n\t\t\t\t\t  )\n\t\t\t\t\t  setTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null)\n\t\t\t\t\t  }, 5000)\n\t\t\t\t\tsetPersons(persons.filter(entry => entry.id !== person.id))\n\t\t\t\t  })\n\t\t\t\t/*.catch(error => {\n\t\t\t\t\talert(\n\t\t\t\t\t`The entry '${person.name}' was already deleted from server`\n\t\t\t\t\t)\n\t\t\t\t\tsetNotes(notes.filter(n => n.id !== id))\n\t\t\t\t})*/\n\n\t\t\t} else {\n\t\t\t\tconsole.log(\"User pressed cancel.\");\n\t\t\t}\n\t\t}\n\t\telse {\n\t\tconst personObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t\tid: newName,\n\t\t}\n\t\t//setPersons(persons.concat(personObject))\n\t\tconsole.log('Add button clicked.', event.target);\n\t\tconsole.log('ID: ', personObject.id);\n\t\tnumberService\n\t\t.create(personObject)\n\t\t.then(returnedPerson => {\n\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\tsetNotificationMessage(\n\t\t\t\t`Added ${returnedPerson.name}.`\n\t\t\t  )\n\t\t\t  setTimeout(() => {\n\t\t\t\tsetNotificationMessage(null)\n\t\t\t  }, 5000)\n\t\t\tsetNewName('')\n\t\t\tsetNewNumber('')\n\t\t})}\n\t\t/*axios\n\t\t\t.post('http://localhost:3001/persons', personObject)\n\t\t\t.then(response => {\n\t\t\t\tsetPersons(persons.concat(response.data))\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t})}*/\n\t}\n\n\tconst handleNameChange = (event) => {\n\t\tconsole.log(event.target.value)\n\t\tsetNewName(event.target.value)\n\t}\n\n\tconst handleNumberChange = (event) => {\n\t\tconsole.log(event.target.value)\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\tconst handleFilterChange = (event) => {\n\t\tconsole.log(event.target.value)\n\t\tsetNewFilter(event.target.value)\n\t\tif (newFilter !== ''){\n\t\t\tSetShowAll(false)\n\t\t}\n\t}\n\t\n\n\tconst personsToShow = showAll \n\t? persons \n\t: persons.filter(person => person.name.toLowerCase().indexOf(newFilter.toLowerCase()) !== -1)\n\t/*if (newFilter !== ''){\n\t\t  personsToShow  = filterPersons(persons, newFilter)\n\t}\n\telse {\n\t\tpersonsToShow = persons;\n\t}*/\n\n\tconst removePerson = (person) => {\n\t\tconsole.log(`Delete button clicked for ${person.id}.`)\n\t\tlet r= window.confirm(`Are you sure you want to delete ${person.name}?`);\n\t\tif (r === true) {\n\t\t\tconsole.log(\"User pressed OK.\");\n\t\t\tnumberService\n\t\t\t.remove(person.id)\n\t\t\tsetPersons(persons.filter(entry => entry.id !== person.id))\n\t\t\tsetNotificationMessage(\n\t\t\t\t`Removed ${person.name}.`\n\t\t\t  )\n\t\t\t  setTimeout(() => {\n\t\t\t\tsetNotificationMessage(null)\n\t\t\t  }, 5000)\n\t\t} else {\n\t\t\tconsole.log(\"User pressed cancel.\");\n\t\t}\n\t\t//numberService\n\t\t//.remove(person.id)\n\t\t/*.then(returnedPerson => {\n\t\t\tconsole.log(returnedPerson, typeof(returnedPerson))//setPersons(returnedPerson)\n\t\t\tsetNewName('')\n\t\t\tsetNewNumber('')\n\t\t})*/}\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\t  <Notification message={notificationMessage} />\n\t  <Error message={errorMessage} />\n\t  <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n\t  <h2>Add new number</h2>\n\t  <SubmitNumber addPerson={addPerson} \n\t  \tnewName={newName} \n\t  \thandleNameChange={handleNameChange}\n\t  \tnewNumber={newNumber}\n\t  \thandleNumberChange={handleNumberChange}/>\n      <Directory personsToShow={personsToShow} removePerson={removePerson}/>\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}